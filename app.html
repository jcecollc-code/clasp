<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clasp App — AI-Powered Networking</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --blue: #0A66C2;
  --blue-dark: #004182;
  --blue-deep: #001B3D;
  --blue-mid: #0073B1;
  --blue-light: #EAF3FF;
  --teal: #00B4A6;
  --teal-light: rgba(0,180,166,0.1);
  --amber: #F59E0B;
  --green: #10B981;
  --green-light: rgba(16,185,129,0.1);
  --red: #EF4444;
  --bg: #F5F7FA;
  --card: #FFFFFF;
  --text: #1A2332;
  --muted: #637B96;
  --light: #94A3B8;
  --border: #E4EBF4;
  --shadow: 0 4px 16px rgba(0,30,80,0.08);
  --shadow-lg: 0 16px 48px rgba(0,30,80,0.14);
  --radius: 12px;
  --sidebar-w: 232px;
}
* { margin:0; padding:0; box-sizing:border-box; }
html, body { height:100%; }
body {
  font-family:'Outfit',sans-serif;
  background:var(--bg); color:var(--text);
  font-size:14px; -webkit-font-smoothing:antialiased;
  overflow:hidden;
}

/* ── LAYOUT ── */
.app { display:flex; height:100vh; }

/* ── SIDEBAR ── */
.sidebar {
  width:var(--sidebar-w); background:white;
  border-right:1px solid var(--border);
  display:flex; flex-direction:column; flex-shrink:0;
}
.sidebar-top { padding:20px 16px 16px; border-bottom:1px solid var(--border); }
.logo {
  font-family:'Syne',sans-serif; font-size:1.4rem; font-weight:800;
  color:var(--blue-dark); display:flex; align-items:center; gap:8px; margin-bottom:20px;
}
.logo-mark {
  width:30px; height:30px; border-radius:8px; background:var(--blue);
  display:flex; align-items:center; justify-content:center;
}
.logo-mark svg { width:16px; height:16px; }
.agent-trigger {
  width:100%; background:var(--blue-deep); border:none; border-radius:10px;
  padding:10px 12px; display:flex; align-items:center; gap:8px;
  cursor:pointer; font-family:'Outfit',sans-serif; transition:background 0.2s;
}
.agent-trigger:hover { background:#0A2240; }
.agent-orb {
  width:20px; height:20px; border-radius:50%; flex-shrink:0;
  background:linear-gradient(135deg,var(--blue),var(--teal));
  display:flex; align-items:center; justify-content:center;
}
.agent-orb svg { width:10px; height:10px; }
.agent-trigger-text { flex:1; text-align:left; }
.agent-trigger-text span:first-child { display:block; color:rgba(255,255,255,0.5); font-size:0.68rem; letter-spacing:0.5px; }
.agent-trigger-text span:last-child { display:block; color:rgba(255,255,255,0.85); font-size:0.78rem; }
.kbd { background:rgba(255,255,255,0.1); color:rgba(255,255,255,0.4); font-size:0.65rem; padding:2px 6px; border-radius:4px; }

.sidebar-nav { flex:1; padding:12px 8px; overflow-y:auto; }
.nav-label { font-size:0.65rem; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--light); padding:8px 8px 4px; }
.nav-item {
  display:flex; align-items:center; gap:10px; padding:9px 10px;
  border-radius:8px; color:var(--muted); cursor:pointer;
  transition:all 0.15s; font-size:0.88rem; font-weight:500;
}
.nav-item:hover { background:var(--blue-light); color:var(--blue); }
.nav-item.active { background:var(--blue-light); color:var(--blue); font-weight:600; }
.nav-item svg { width:16px; height:16px; flex-shrink:0; }
.nav-badge { margin-left:auto; background:var(--blue); color:white; font-size:0.6rem; font-weight:700; padding:1px 6px; border-radius:10px; }

.sidebar-user {
  padding:14px 16px; border-top:1px solid var(--border);
  display:flex; align-items:center; gap:10px;
}
.user-av {
  width:34px; height:34px; border-radius:50%; flex-shrink:0;
  background:linear-gradient(135deg,var(--blue),var(--teal));
  display:flex; align-items:center; justify-content:center;
  color:white; font-weight:700; font-size:0.78rem;
}
.user-name { font-size:0.82rem; font-weight:600; }
.user-role { font-size:0.72rem; color:var(--muted); margin-top:1px; }

/* ── MAIN ── */
.main { flex:1; display:flex; flex-direction:column; overflow:hidden; }
.topbar {
  height:52px; background:white; border-bottom:1px solid var(--border);
  display:flex; align-items:center; padding:0 24px; gap:16px; flex-shrink:0;
}
.page-title { font-family:'Syne',sans-serif; font-size:1rem; font-weight:700; color:var(--blue-deep); }
.topbar-spacer { flex:1; }
.icon-btn {
  width:32px; height:32px; border-radius:8px; border:none; background:none;
  cursor:pointer; color:var(--muted); display:flex; align-items:center; justify-content:center;
}
.icon-btn:hover { background:var(--bg); color:var(--blue); }
.icon-btn svg { width:16px; height:16px; }

.screen { display:none; flex:1; overflow-y:auto; padding:24px; }
.screen.active { display:block; }

/* ── AGENT SCREEN ── */
.agent-screen { display:none; flex:1; flex-direction:column; overflow:hidden; }
.agent-screen.active { display:flex; }

.agent-header-bar {
  padding:16px 24px; background:white; border-bottom:1px solid var(--border);
  display:flex; align-items:center; gap:12px; flex-shrink:0;
}
.agent-status { display:flex; align-items:center; gap:6px; font-size:0.8rem; color:var(--teal); font-weight:500; }
.agent-status-dot { width:7px; height:7px; border-radius:50%; background:var(--teal); animation:pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.5;transform:scale(1.3)} }

.chat-area { flex:1; overflow-y:auto; padding:24px; display:flex; flex-direction:column; gap:16px; }

.msg { display:flex; gap:10px; max-width:80%; }
.msg.user { align-self:flex-end; flex-direction:row-reverse; }
.msg-av {
  width:32px; height:32px; border-radius:50%; flex-shrink:0;
  display:flex; align-items:center; justify-content:center;
  color:white; font-weight:700; font-size:0.72rem; margin-top:2px;
}
.msg-av.agent-av { background:linear-gradient(135deg,var(--blue),var(--teal)); }
.msg-av.user-av { background:linear-gradient(135deg,var(--blue-dark),var(--blue)); }
.msg-bubble {
  border-radius:14px; padding:12px 16px;
  font-size:0.85rem; line-height:1.65;
}
.msg.agent .msg-bubble { background:white; border:1px solid var(--border); border-bottom-left-radius:4px; color:var(--text); }
.msg.user .msg-bubble { background:var(--blue); color:white; border-bottom-right-radius:4px; }
.msg-time { font-size:0.68rem; color:var(--light); margin-top:5px; }
.msg.user .msg-time { text-align:right; }

.typing-indicator { display:flex; gap:4px; align-items:center; padding:14px 16px; }
.typing-dot { width:7px; height:7px; border-radius:50%; background:var(--muted); animation:typing 1.2s infinite; }
.typing-dot:nth-child(2) { animation-delay:0.2s; }
.typing-dot:nth-child(3) { animation-delay:0.4s; }
@keyframes typing { 0%,60%,100%{transform:translateY(0);opacity:0.4} 30%{transform:translateY(-6px);opacity:1} }

.action-card {
  background:var(--teal-light); border:1px solid rgba(0,180,166,0.25);
  border-radius:10px; padding:12px 14px; margin-top:8px; font-size:0.8rem;
}
.action-card-title { font-weight:600; color:var(--text); margin-bottom:6px; display:flex; align-items:center; gap:6px; }
.action-card-title svg { width:13px; height:13px; color:var(--teal); }
.action-item { display:flex; align-items:center; gap:6px; padding:4px 0; color:var(--muted); border-bottom:1px solid rgba(0,180,166,0.15); }
.action-item:last-child { border-bottom:none; padding-bottom:0; }
.action-check { color:var(--teal); font-weight:700; }

.suggestion-chips { display:flex; gap:8px; flex-wrap:wrap; padding:0 24px 16px; }
.chip {
  background:white; border:1px solid var(--border); border-radius:20px;
  padding:7px 16px; font-size:0.78rem; font-weight:500; color:var(--muted);
  cursor:pointer; transition:all 0.15s; font-family:'Outfit',sans-serif;
}
.chip:hover { background:var(--blue-light); border-color:var(--blue); color:var(--blue); }

.compose-bar {
  padding:16px 24px; background:white; border-top:1px solid var(--border); flex-shrink:0;
}
.compose-inner {
  display:flex; align-items:flex-end; gap:10px;
  background:var(--bg); border:1.5px solid var(--border);
  border-radius:12px; padding:10px 14px; transition:border-color 0.2s;
}
.compose-inner:focus-within { border-color:var(--blue); }
.compose-textarea {
  flex:1; border:none; outline:none; background:transparent; resize:none;
  font-family:'Outfit',sans-serif; font-size:0.9rem; color:var(--text); min-height:24px; max-height:120px;
}
.compose-textarea::placeholder { color:var(--light); }
.send-btn {
  background:var(--blue); border:none; border-radius:8px;
  width:34px; height:34px; cursor:pointer; flex-shrink:0;
  display:flex; align-items:center; justify-content:center;
  transition:background 0.15s;
}
.send-btn:hover { background:var(--blue-dark); }
.send-btn:disabled { background:var(--border); cursor:not-allowed; }
.send-btn svg { width:15px; height:15px; }

/* ── PROFILE SCREEN ── */
.profile-layout { display:grid; grid-template-columns:1fr 300px; gap:20px; max-width:1000px; }
.profile-main { background:white; border-radius:var(--radius); border:1px solid var(--border); overflow:hidden; }
.profile-cover { height:100px; background:linear-gradient(135deg,var(--blue-dark),var(--blue),var(--teal)); }
.profile-identity { padding:0 24px 24px; }
.profile-av-wrap { margin-top:-32px; margin-bottom:10px; display:inline-block; }
.profile-av {
  width:64px; height:64px; border-radius:50%; border:3px solid white;
  background:linear-gradient(135deg,var(--blue),var(--teal));
  display:flex; align-items:center; justify-content:center;
  color:white; font-weight:700; font-size:1.2rem;
}
.profile-name { font-family:'Syne',sans-serif; font-size:1.2rem; font-weight:700; color:var(--blue-deep); }
.profile-headline { font-size:0.88rem; color:var(--muted); margin-top:3px; }
.profile-stats { display:flex; gap:0; border:1px solid var(--border); border-radius:10px; overflow:hidden; margin:16px 0; }
.stat-box { flex:1; padding:12px; text-align:center; border-right:1px solid var(--border); }
.stat-box:last-child { border-right:none; }
.stat-num { font-family:'Syne',sans-serif; font-size:1.1rem; font-weight:700; color:var(--blue-dark); }
.stat-label { font-size:0.68rem; color:var(--muted); margin-top:2px; }
.profile-section { padding:16px 24px; border-top:1px solid var(--border); }
.section-heading { font-family:'Syne',sans-serif; font-size:0.88rem; font-weight:700; color:var(--blue-deep); margin-bottom:10px; }
.skills-wrap { display:flex; flex-wrap:wrap; gap:6px; }
.skill { background:var(--blue-light); color:var(--blue); font-size:0.75rem; font-weight:500; padding:4px 12px; border-radius:20px; }

.profile-side { display:flex; flex-direction:column; gap:14px; }
.side-card { background:white; border-radius:var(--radius); border:1px solid var(--border); padding:16px; }
.side-title { font-family:'Syne',sans-serif; font-size:0.85rem; font-weight:700; color:var(--blue-deep); margin-bottom:12px; }

/* ── PROFILE EDIT FORM ── */
.edit-form { display:flex; flex-direction:column; gap:12px; }
.form-row { display:flex; gap:10px; }
.form-group { display:flex; flex-direction:column; gap:5px; flex:1; }
.form-label { font-size:0.75rem; font-weight:600; color:var(--muted); }
.form-input {
  border:1.5px solid var(--border); border-radius:8px; padding:9px 12px;
  font-family:'Outfit',sans-serif; font-size:0.88rem; color:var(--text);
  outline:none; transition:border-color 0.2s; background:white;
}
.form-input:focus { border-color:var(--blue); }
.form-textarea { min-height:80px; resize:vertical; }
.btn-save {
  background:var(--blue); color:white; border:none; border-radius:8px;
  padding:10px 24px; font-family:'Outfit',sans-serif; font-size:0.88rem;
  font-weight:600; cursor:pointer; transition:background 0.15s; align-self:flex-start;
}
.btn-save:hover { background:var(--blue-dark); }

/* ── SEARCH SCREEN ── */
.search-bar-wrap {
  display:flex; align-items:center; gap:8px; background:white;
  border:1.5px solid var(--border); border-radius:10px; padding:10px 16px;
  margin-bottom:16px; transition:border-color 0.2s;
}
.search-bar-wrap:focus-within { border-color:var(--blue); }
.search-bar-wrap svg { width:16px; height:16px; color:var(--muted); flex-shrink:0; }
.search-input { border:none; outline:none; flex:1; font-family:'Outfit',sans-serif; font-size:0.9rem; color:var(--text); }
.search-input::placeholder { color:var(--light); }

.person-card {
  background:white; border:1px solid var(--border); border-radius:var(--radius);
  padding:16px 18px; margin-bottom:10px; display:flex; gap:14px;
  transition:all 0.15s; cursor:pointer;
}
.person-card:hover { border-color:var(--blue); box-shadow:var(--shadow); }
.person-av { width:46px; height:46px; border-radius:50%; flex-shrink:0; display:flex; align-items:center; justify-content:center; color:white; font-weight:700; }
.person-name { font-size:0.92rem; font-weight:600; color:var(--text); }
.person-role { font-size:0.78rem; color:var(--muted); margin-top:2px; }
.person-tags { display:flex; gap:5px; margin-top:8px; flex-wrap:wrap; }
.ptag { font-size:0.68rem; font-weight:500; padding:2px 8px; border-radius:8px; background:var(--blue-light); color:var(--blue); }
.person-signal { font-size:0.72rem; color:var(--green); font-weight:500; margin-top:6px; display:flex; align-items:center; gap:4px; }
.person-actions { display:flex; flex-direction:column; gap:6px; align-items:flex-end; justify-content:center; margin-left:auto; }
.btn-sm { border:none; border-radius:8px; padding:7px 14px; font-size:0.76rem; font-weight:600; cursor:pointer; font-family:'Outfit',sans-serif; transition:all 0.15s; white-space:nowrap; }
.btn-blue { background:var(--blue); color:white; }
.btn-blue:hover { background:var(--blue-dark); }
.btn-dark { background:var(--blue-deep); color:rgba(255,255,255,0.85); display:flex; align-items:center; gap:4px; }
.btn-dark:hover { background:#0A2240; }
.btn-ghost { background:var(--bg); color:var(--muted); border:1px solid var(--border); }
.btn-ghost:hover { background:var(--blue-light); color:var(--blue); border-color:var(--blue); }

/* ── TOAST ── */
.toast {
  position:fixed; bottom:24px; right:24px; z-index:999;
  background:var(--blue-deep); color:white; padding:12px 20px;
  border-radius:10px; font-size:0.85rem; font-weight:500;
  box-shadow:var(--shadow-lg); display:flex; align-items:center; gap:8px;
  transform:translateY(80px); opacity:0; transition:all 0.3s;
  pointer-events:none;
}
.toast.show { transform:translateY(0); opacity:1; }
.toast-icon { color:var(--teal); }

/* ── SPOTLIGHT ── */
.spotlight-overlay {
  display:none; position:fixed; inset:0; z-index:1000;
  background:rgba(0,20,50,0.5); backdrop-filter:blur(4px);
  align-items:flex-start; justify-content:center; padding-top:12vh;
}
.spotlight-overlay.open { display:flex; }
.spotlight-box {
  width:600px; background:white; border-radius:16px;
  box-shadow:var(--shadow-lg); overflow:hidden;
  animation:spotOpen 0.18s ease;
}
@keyframes spotOpen { from{opacity:0;transform:scale(0.96) translateY(-10px)} to{opacity:1;transform:scale(1) translateY(0)} }
.spot-input-row {
  display:flex; align-items:center; gap:10px; padding:16px 20px;
  border-bottom:1px solid var(--border);
}
.spot-orb {
  width:26px; height:26px; border-radius:50%; flex-shrink:0;
  background:linear-gradient(135deg,var(--blue),var(--teal));
  display:flex; align-items:center; justify-content:center;
}
.spot-orb svg { width:12px; height:12px; }
.spot-input { flex:1; border:none; outline:none; font-family:'Outfit',sans-serif; font-size:1rem; color:var(--text); }
.spot-input::placeholder { color:var(--light); }
.spot-esc { font-size:0.68rem; background:var(--bg); border:1px solid var(--border); border-radius:5px; padding:2px 7px; color:var(--muted); }
.spot-suggestions { padding:8px; }
.spot-label { font-size:0.65rem; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--light); padding:6px 10px 4px; }
.spot-item {
  display:flex; align-items:center; gap:10px; padding:9px 10px;
  border-radius:8px; cursor:pointer; transition:background 0.1s;
}
.spot-item:hover, .spot-item.active { background:var(--blue-light); }
.spot-icon { width:28px; height:28px; border-radius:7px; background:var(--bg); border:1px solid var(--border); display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.spot-icon svg { width:14px; height:14px; color:var(--blue); }
.spot-title { font-size:0.83rem; font-weight:500; color:var(--text); }
.spot-sub { font-size:0.72rem; color:var(--muted); margin-top:1px; }
.spot-footer { padding:8px 18px; border-top:1px solid var(--border); display:flex; gap:12px; background:var(--bg); }
.spot-hint { font-size:0.68rem; color:var(--light); display:flex; align-items:center; gap:4px; }
.spot-hint kbd { background:white; border:1px solid var(--border); border-radius:4px; padding:1px 5px; font-family:'Outfit',sans-serif; font-size:0.65rem; }
</style>
</head>
<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-top">
      <div class="logo">
        <div class="logo-mark">
          <svg viewBox="0 0 16 16" fill="none"><path d="M3 8h10M8 3l5 5-5 5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        Clasp
      </div>
      <button class="agent-trigger" onclick="openSpotlight()">
        <div class="agent-orb">
          <svg viewBox="0 0 24 24" fill="white"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>
        </div>
        <div class="agent-trigger-text">
          <span>Ask Claude</span>
          <span>Your AI networking agent</span>
        </div>
        <span class="kbd">⌘K</span>
      </button>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-label">Workspace</div>
      <div class="nav-item active" onclick="switchScreen('agent', this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>
        Claude Agent
      </div>
      <div class="nav-item" onclick="switchScreen('profile', this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="4"/><path d="M6 20v-1a6 6 0 0 1 12 0v1"/></svg>
        My Profile
      </div>
      <div class="nav-item" onclick="switchScreen('search', this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
        Find People
      </div>
      <div class="nav-label" style="margin-top:8px;">Tools</div>
      <div class="nav-item" onclick="switchScreen('outreach', this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
        Draft Outreach
      </div>
      <div class="nav-item" onclick="switchScreen('settings', this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93A10 10 0 1 1 4.93 19.07"/></svg>
        Settings
      </div>
    </nav>

    <div class="sidebar-user">
      <div class="user-av" id="sidebar-av">JS</div>
      <div>
        <div class="user-name" id="sidebar-name">Jordan Smith</div>
        <div class="user-role" id="sidebar-role">VP Sales</div>
      </div>
    </div>
  </aside>

  <!-- MAIN -->
  <div class="main">
    <div class="topbar">
      <div class="page-title" id="page-title">Claude Agent</div>
      <div class="topbar-spacer"></div>
      <button class="icon-btn" title="Settings" onclick="switchScreen('settings', document.querySelector('[onclick*=settings]'))">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93A10 10 0 1 1 4.93 19.07"/></svg>
      </button>
    </div>

    <!-- ── AGENT SCREEN ── -->
    <div class="agent-screen active" id="screen-agent">
      <div class="agent-header-bar">
        <div class="agent-orb" style="width:32px;height:32px;">
          <svg viewBox="0 0 24 24" fill="white" width="14" height="14"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>
        </div>
        <div>
          <div style="font-size:0.88rem;font-weight:600;color:var(--blue-deep);">Clasp Agent</div>
          <div class="agent-status"><span class="agent-status-dot"></span> Ready to help</div>
        </div>
        <div style="margin-left:auto;">
          <button class="btn-sm btn-ghost" onclick="clearChat()">Clear chat</button>
        </div>
      </div>

      <div class="chat-area" id="chat-area">
        <div class="msg agent">
          <div class="msg-av agent-av">
            <svg viewBox="0 0 24 24" fill="white" width="12" height="12"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>
          </div>
          <div>
            <div class="msg-bubble">
              Hi! I'm your Clasp Agent, powered by Claude. I can help you with professional networking tasks — finding leads, drafting outreach messages, researching companies, and more.<br><br>
              What would you like to work on today?
            </div>
            <div class="msg-time">Just now</div>
          </div>
        </div>
      </div>

      <div class="suggestion-chips" id="suggestion-chips">
        <div class="chip" onclick="sendSuggestion(this)">Find VP Sales leads in fintech</div>
        <div class="chip" onclick="sendSuggestion(this)">Draft a cold outreach message</div>
        <div class="chip" onclick="sendSuggestion(this)">Write a LinkedIn connection note</div>
        <div class="chip" onclick="sendSuggestion(this)">Research a company before a call</div>
      </div>

      <div class="compose-bar">
        <div class="compose-inner">
          <textarea class="compose-textarea" id="chat-input" placeholder="Ask Claude anything about networking, leads, outreach…" rows="1" onkeydown="handleKey(event)" oninput="autoResize(this)"></textarea>
          <button class="send-btn" id="send-btn" onclick="sendMessage()">
            <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
        </div>
      </div>
    </div>

    <!-- ── PROFILE SCREEN ── -->
    <div class="screen" id="screen-profile">
      <div class="profile-layout">
        <div>
          <div class="profile-main">
            <div class="profile-cover"></div>
            <div class="profile-identity">
              <div class="profile-av-wrap">
                <div class="profile-av" id="profile-av-display">JS</div>
              </div>
              <div class="profile-name" id="profile-name-display">Jordan Smith</div>
              <div class="profile-headline" id="profile-headline-display">VP of Sales · Helping B2B teams close faster</div>
            </div>
            <div style="padding:0 24px 20px;">
              <div class="profile-stats">
                <div class="stat-box"><div class="stat-num">847</div><div class="stat-label">Connections</div></div>
                <div class="stat-box"><div class="stat-num">142</div><div class="stat-label">Profile Views</div></div>
                <div class="stat-box"><div class="stat-num">62%</div><div class="stat-label">Reply Rate</div></div>
              </div>
            </div>
            <div class="profile-section">
              <div class="section-heading">Edit Your Profile</div>
              <div class="edit-form">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input class="form-input" id="input-name" type="text" value="Jordan Smith" oninput="updateProfile()">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Job Title</label>
                    <input class="form-input" id="input-title" type="text" value="VP of Sales" oninput="updateProfile()">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Company</label>
                    <input class="form-input" id="input-company" type="text" value="TechCorp">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Location</label>
                    <input class="form-input" id="input-location" type="text" value="San Francisco, CA">
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">About / Headline</label>
                  <textarea class="form-input form-textarea" id="input-about">Helping B2B teams close faster with AI-native workflows. 12 years in enterprise sales.</textarea>
                </div>
                <div class="form-group">
                  <label class="form-label">Your Ideal Customer Profile (ICP) — Claude uses this for lead searches</label>
                  <textarea class="form-input form-textarea" id="input-icp" placeholder="e.g. VP Sales or CRO at Series B+ SaaS companies, 50-500 employees, based in US">VP Sales or CRO at Series B+ SaaS companies, 50-500 employees, US-based</textarea>
                </div>
                <button class="btn-save" onclick="saveProfile()">Save Profile</button>
              </div>
            </div>
          </div>
        </div>
        <div class="profile-side">
          <div class="side-card">
            <div class="side-title">Your Skills</div>
            <div class="skills-wrap">
              <span class="skill">B2B SaaS</span>
              <span class="skill">Enterprise Sales</span>
              <span class="skill">Revenue Ops</span>
              <span class="skill">HubSpot</span>
              <span class="skill">AI Workflows</span>
              <span class="skill">Outbound Strategy</span>
            </div>
          </div>
          <div class="side-card">
            <div class="side-title">Claude Uses Your Profile To…</div>
            <div style="font-size:0.8rem;color:var(--muted);line-height:1.7;">
              ✦ Personalize outreach messages<br>
              ✦ Target leads that match your ICP<br>
              ✦ Write in your voice and tone<br>
              ✦ Contextualize company research
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ── SEARCH SCREEN ── -->
    <div class="screen" id="screen-search">
      <div class="search-bar-wrap">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
        <input class="search-input" type="text" placeholder="Search for people by name, company, or role…" id="people-search" oninput="filterPeople()">
      </div>
      <div style="display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;">
        <button class="btn-sm btn-blue" onclick="askClaudeToSearch()">✦ Ask Claude to find leads for me</button>
        <button class="btn-sm btn-ghost">VP / Director</button>
        <button class="btn-sm btn-ghost">Series B+</button>
        <button class="btn-sm btn-ghost">Bay Area</button>
        <button class="btn-sm btn-ghost">Hiring now</button>
      </div>
      <div id="people-list">
        <div class="person-card">
          <div class="person-av" style="background:linear-gradient(135deg,#0A66C2,#00B4A6)">AM</div>
          <div style="flex:1;">
            <div class="person-name">Alex Morgan</div>
            <div class="person-role">VP of Sales · Stripe</div>
            <div class="person-tags"><span class="ptag">FinTech</span><span class="ptag">Payments</span><span class="ptag">Enterprise</span></div>
            <div class="person-signal">● Posted about AI sales tools 2 days ago</div>
          </div>
          <div class="person-actions">
            <button class="btn-sm btn-dark" onclick="draftOutreachFor('Alex Morgan', 'VP of Sales at Stripe')">✦ Draft outreach</button>
            <button class="btn-sm btn-ghost">View profile</button>
          </div>
        </div>
        <div class="person-card">
          <div class="person-av" style="background:linear-gradient(135deg,#004182,#0073B1)">RC</div>
          <div style="flex:1;">
            <div class="person-name">Riley Chen</div>
            <div class="person-role">Director of Sales · Notion</div>
            <div class="person-tags"><span class="ptag">B2B SaaS</span><span class="ptag">PLG</span></div>
            <div class="person-signal">● Hiring 3 AEs — posted 4 days ago</div>
          </div>
          <div class="person-actions">
            <button class="btn-sm btn-dark" onclick="draftOutreachFor('Riley Chen', 'Director of Sales at Notion')">✦ Draft outreach</button>
            <button class="btn-sm btn-ghost">View profile</button>
          </div>
        </div>
        <div class="person-card">
          <div class="person-av" style="background:linear-gradient(135deg,#0073B1,#00B4A6)">TK</div>
          <div style="flex:1;">
            <div class="person-name">Taylor Kim</div>
            <div class="person-role">VP Revenue · Linear</div>
            <div class="person-tags"><span class="ptag">RevOps</span><span class="ptag">Dev Tools</span></div>
            <div class="person-signal">● Shared post on AI prospecting 6 days ago</div>
          </div>
          <div class="person-actions">
            <button class="btn-sm btn-dark" onclick="draftOutreachFor('Taylor Kim', 'VP Revenue at Linear')">✦ Draft outreach</button>
            <button class="btn-sm btn-ghost">View profile</button>
          </div>
        </div>
        <div class="person-card">
          <div class="person-av" style="background:linear-gradient(135deg,#1E3A5F,#0A66C2)">MP</div>
          <div style="flex:1;">
            <div class="person-name">Morgan Park</div>
            <div class="person-role">Head of Sales · Retool</div>
            <div class="person-tags"><span class="ptag">Low-Code</span><span class="ptag">Automation</span></div>
            <div class="person-signal">● 2 mutual connections</div>
          </div>
          <div class="person-actions">
            <button class="btn-sm btn-dark" onclick="draftOutreachFor('Morgan Park', 'Head of Sales at Retool')">✦ Draft outreach</button>
            <button class="btn-sm btn-ghost">View profile</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ── OUTREACH SCREEN ── -->
    <div class="screen" id="screen-outreach">
      <div style="max-width:700px;">
        <div style="background:white;border-radius:var(--radius);border:1px solid var(--border);padding:24px;">
          <div style="font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;color:var(--blue-deep);margin-bottom:16px;">Draft Outreach with Claude</div>
          <div class="edit-form">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Recipient Name</label>
                <input class="form-input" id="outreach-name" type="text" placeholder="e.g. Alex Morgan">
              </div>
              <div class="form-group">
                <label class="form-label">Their Role & Company</label>
                <input class="form-input" id="outreach-role" type="text" placeholder="e.g. VP Sales at Stripe">
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">Why are you reaching out?</label>
              <textarea class="form-input form-textarea" id="outreach-reason" placeholder="e.g. Want to explore a partnership, interested in their experience scaling sales teams, saw their post about AI..."></textarea>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Message Type</label>
                <select class="form-input" id="outreach-type">
                  <option value="linkedin-connection">LinkedIn Connection Note</option>
                  <option value="linkedin-message">LinkedIn Message</option>
                  <option value="cold-email">Cold Email</option>
                  <option value="follow-up">Follow-up Message</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">Tone</label>
                <select class="form-input" id="outreach-tone">
                  <option value="professional">Professional</option>
                  <option value="warm">Warm & conversational</option>
                  <option value="direct">Direct & brief</option>
                  <option value="casual">Casual</option>
                </select>
              </div>
            </div>
            <button class="btn-save" onclick="generateOutreach()">✦ Generate with Claude</button>
          </div>
        </div>

        <div id="outreach-result" style="display:none;margin-top:16px;background:white;border-radius:var(--radius);border:1px solid var(--border);padding:24px;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;">
            <div style="font-family:'Syne',sans-serif;font-size:0.9rem;font-weight:700;color:var(--blue-deep);">Generated Message</div>
            <div style="display:flex;gap:8px;">
              <button class="btn-sm btn-ghost" onclick="copyOutreach()">Copy</button>
              <button class="btn-sm btn-blue" onclick="generateOutreach()">✦ Regenerate</button>
            </div>
          </div>
          <div id="outreach-text" style="font-size:0.88rem;line-height:1.75;color:var(--text);white-space:pre-wrap;background:var(--bg);border-radius:8px;padding:16px;"></div>
        </div>
      </div>
    </div>

    <!-- ── SETTINGS SCREEN ── -->
    <div class="screen" id="screen-settings">
      <div style="max-width:600px;">
        <div style="background:white;border-radius:var(--radius);border:1px solid var(--border);padding:24px;margin-bottom:16px;">
          <div style="font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;color:var(--blue-deep);margin-bottom:16px;">Account Settings</div>
          <div class="edit-form">
            <div class="form-group">
              <label class="form-label">Your Name</label>
              <input class="form-input" id="settings-name" type="text" value="Jordan Smith" oninput="syncSettings()">
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input class="form-input" type="email" placeholder="your@email.com">
            </div>
            <button class="btn-save" onclick="showToast('Settings saved!')">Save</button>
          </div>
        </div>
        <div style="background:white;border-radius:var(--radius);border:1px solid var(--border);padding:24px;">
          <div style="font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;color:var(--blue-deep);margin-bottom:4px;">Connected Integrations</div>
          <div style="font-size:0.8rem;color:var(--muted);margin-bottom:16px;">Coming soon — HubSpot, Salesforce, Gmail sync</div>
          <div style="display:flex;flex-direction:column;gap:10px;">
            <div style="display:flex;align-items:center;gap:10px;padding:10px;border:1px solid var(--border);border-radius:8px;">
              <div style="width:32px;height:32px;background:#FF7043;border-radius:6px;display:flex;align-items:center;justify-content:center;color:white;font-size:0.65rem;font-weight:700;">HS</div>
              <div style="flex:1;font-size:0.85rem;font-weight:500;">HubSpot</div>
              <button class="btn-sm btn-ghost" style="font-size:0.72rem;">Connect</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:10px;border:1px solid var(--border);border-radius:8px;">
              <div style="width:32px;height:32px;background:#00A1E0;border-radius:6px;display:flex;align-items:center;justify-content:center;color:white;font-size:0.65rem;font-weight:700;">SF</div>
              <div style="flex:1;font-size:0.85rem;font-weight:500;">Salesforce</div>
              <button class="btn-sm btn-ghost" style="font-size:0.72rem;">Connect</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:10px;border:1px solid var(--border);border-radius:8px;">
              <div style="width:32px;height:32px;background:#EA4335;border-radius:6px;display:flex;align-items:center;justify-content:center;color:white;font-size:0.65rem;font-weight:700;">Gm</div>
              <div style="flex:1;font-size:0.85rem;font-weight:500;">Gmail</div>
              <button class="btn-sm btn-ghost" style="font-size:0.72rem;">Connect</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast">
  <span class="toast-icon">✦</span>
  <span id="toast-msg">Done!</span>
</div>

<!-- SPOTLIGHT -->
<div class="spotlight-overlay" id="spotlight" onclick="closeSpotlightBg(event)">
  <div class="spotlight-box">
    <div class="spot-input-row">
      <div class="spot-orb">
        <svg viewBox="0 0 24 24" fill="white"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>
      </div>
      <input class="spot-input" id="spot-input" placeholder="Ask Claude to find leads, draft a message, research a company…" onkeydown="spotKeydown(event)">
      <span class="spot-esc">Esc</span>
    </div>
    <div class="spot-suggestions">
      <div class="spot-label">Quick actions</div>
      <div class="spot-item" onclick="spotAction('Find VP Sales leads at Series B SaaS companies')">
        <div class="spot-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></div>
        <div><div class="spot-title">Find VP Sales leads at Series B SaaS companies</div><div class="spot-sub">Lead search</div></div>
      </div>
      <div class="spot-item" onclick="spotAction('Draft a LinkedIn connection note for a cold outreach')">
        <div class="spot-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></div>
        <div><div class="spot-title">Draft a LinkedIn connection note</div><div class="spot-sub">Outreach</div></div>
      </div>
      <div class="spot-item" onclick="spotAction('Research Stripe before my call tomorrow')">
        <div class="spot-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg></div>
        <div><div class="spot-title">Research a company before my call</div><div class="spot-sub">Research</div></div>
      </div>
      <div class="spot-item" onclick="spotAction('Write a follow-up email for a prospect who went cold')">
        <div class="spot-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>
        <div><div class="spot-title">Write a follow-up for a cold prospect</div><div class="spot-sub">Outreach</div></div>
      </div>
    </div>
    <div class="spot-footer">
      <span class="spot-hint"><kbd>↵</kbd> send to Claude</span>
      <span class="spot-hint"><kbd>Esc</kbd> close</span>
    </div>
  </div>
</div>

<script>
  // ── STATE ──
  let chatHistory = [];
  let isLoading = false;

  function getUserProfile() {
    return {
      name: document.getElementById('input-name')?.value || 'Jordan Smith',
      title: document.getElementById('input-title')?.value || 'VP of Sales',
      company: document.getElementById('input-company')?.value || 'TechCorp',
      location: document.getElementById('input-location')?.value || 'San Francisco, CA',
      about: document.getElementById('input-about')?.value || '',
      icp: document.getElementById('input-icp')?.value || ''
    };
  }

  function getSystemPrompt() {
    const p = getUserProfile();
    return `You are the Clasp Agent — an AI-powered professional networking assistant built into Clasp, a LinkedIn alternative for the agent era.

You are helping ${p.name}, who is ${p.title} at ${p.company} based in ${p.location}.
About them: ${p.about}
Their Ideal Customer Profile (ICP): ${p.icp}

Your job is to help them with professional networking tasks:
- Finding and researching leads that match their ICP
- Drafting personalized outreach messages (LinkedIn notes, cold emails, follow-ups)
- Researching companies and people before calls
- Suggesting networking strategies
- Writing in a tone that fits their voice

Keep responses practical, specific, and actionable. When drafting messages, make them feel personal and human — not like AI slop. When finding leads, suggest specific types of people/companies with context on why they'd be a good fit.

Always sign off outreach drafts from "${p.name}" unless told otherwise.`;
  }

  // ── CHAT ──
  async function sendMessage() {
    const input = document.getElementById('chat-input');
    const text = input.value.trim();
    if (!text || isLoading) return;

    input.value = '';
    autoResize(input);
    document.getElementById('suggestion-chips').style.display = 'none';
    appendMessage('user', text);
    chatHistory.push({ role: 'user', content: text });

    await callClaude();
  }

  async function callClaude() {
    isLoading = true;
    document.getElementById('send-btn').disabled = true;

    const typingId = appendTyping();

    try {
      const response = await fetch('/.netlify/functions/claude', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          system: getSystemPrompt(),
          messages: chatHistory
        })
      });

      const data = await response.json();
      removeTyping(typingId);

      if (data.content && data.content[0]) {
        const reply = data.content[0].text;
        appendMessage('agent', reply);
        chatHistory.push({ role: 'assistant', content: reply });
      } else {
        appendMessage('agent', 'Sorry, something went wrong. Please try again.');
      }
    } catch (err) {
      removeTyping(typingId);
      appendMessage('agent', 'Connection error — please check your setup and try again.');
    }

    isLoading = false;
    document.getElementById('send-btn').disabled = false;
  }

  function appendMessage(role, text) {
    const area = document.getElementById('chat-area');
    const isAgent = role === 'agent';
    const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const p = getUserProfile();

    const div = document.createElement('div');
    div.className = `msg ${role}`;
    div.innerHTML = `
      <div class="msg-av ${isAgent ? 'agent-av' : 'user-av'}">
        ${isAgent
          ? `<svg viewBox="0 0 24 24" fill="white" width="12" height="12"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg>`
          : getInitials(p.name)
        }
      </div>
      <div>
        <div class="msg-bubble">${formatMessage(text)}</div>
        <div class="msg-time">${time}</div>
      </div>`;
    area.appendChild(div);
    area.scrollTop = area.scrollHeight;
    return div;
  }

  function formatMessage(text) {
    return text
      .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
      .replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>')
      .replace(/\n/g,'<br>');
  }

  function appendTyping() {
    const area = document.getElementById('chat-area');
    const id = 'typing-' + Date.now();
    const div = document.createElement('div');
    div.className = 'msg agent'; div.id = id;
    div.innerHTML = `
      <div class="msg-av agent-av"><svg viewBox="0 0 24 24" fill="white" width="12" height="12"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg></div>
      <div class="msg-bubble"><div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div>`;
    area.appendChild(div);
    area.scrollTop = area.scrollHeight;
    return id;
  }

  function removeTyping(id) {
    document.getElementById(id)?.remove();
  }

  function clearChat() {
    chatHistory = [];
    const area = document.getElementById('chat-area');
    area.innerHTML = '';
    document.getElementById('suggestion-chips').style.display = 'flex';
    appendMessage('agent', "Chat cleared! What would you like to work on?");
  }

  function sendSuggestion(el) {
    document.getElementById('chat-input').value = el.textContent;
    sendMessage();
  }

  function handleKey(e) {
    if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }
  }

  function autoResize(el) {
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 120) + 'px';
  }

  // ── OUTREACH GENERATOR ──
  async function generateOutreach() {
    const name = document.getElementById('outreach-name').value;
    const role = document.getElementById('outreach-role').value;
    const reason = document.getElementById('outreach-reason').value;
    const type = document.getElementById('outreach-type').value;
    const tone = document.getElementById('outreach-tone').value;

    if (!name || !reason) { showToast('Please fill in the recipient name and reason'); return; }

    const resultDiv = document.getElementById('outreach-result');
    const textDiv = document.getElementById('outreach-text');
    resultDiv.style.display = 'block';
    textDiv.textContent = 'Generating…';

    const p = getUserProfile();
    const prompt = `Write a ${type.replace('-',' ')} from ${p.name} (${p.title} at ${p.company}) to ${name}${role ? ' (' + role + ')' : ''}.

Reason for reaching out: ${reason}
Tone: ${tone}
${type === 'linkedin-connection' ? 'Keep it under 300 characters — LinkedIn connection note limit.' : 'Keep it concise and human.'}

Just write the message itself, no preamble or explanation.`;

    try {
      const response = await fetch('/.netlify/functions/claude', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          system: getSystemPrompt(),
          messages: [{ role: 'user', content: prompt }]
        })
      });
      const data = await response.json();
      textDiv.textContent = data.content?.[0]?.text || 'Something went wrong.';
    } catch (e) {
      textDiv.textContent = 'Error generating message. Please try again.';
    }
  }

  function copyOutreach() {
    const text = document.getElementById('outreach-text').textContent;
    navigator.clipboard.writeText(text).then(() => showToast('Copied to clipboard!'));
  }

  function draftOutreachFor(name, role) {
    switchScreen('outreach', document.querySelector('[onclick*=outreach]'));
    setTimeout(() => {
      document.getElementById('outreach-name').value = name;
      document.getElementById('outreach-role').value = role;
    }, 50);
  }

  function askClaudeToSearch() {
    switchScreen('agent', document.querySelector('[onclick*=agent]'));
    const p = getUserProfile();
    setTimeout(() => {
      document.getElementById('chat-input').value = `Find me leads that match my ICP: ${p.icp || 'VP Sales at Series B+ SaaS companies'}`;
      sendMessage();
    }, 100);
  }

  // ── PROFILE ──
  function updateProfile() {
    const name = document.getElementById('input-name').value;
    const title = document.getElementById('input-title').value;
    document.getElementById('profile-name-display').textContent = name;
    document.getElementById('profile-headline-display').textContent = title;
    document.getElementById('profile-av-display').textContent = getInitials(name);
    document.getElementById('sidebar-av').textContent = getInitials(name);
    document.getElementById('sidebar-name').textContent = name;
    document.getElementById('sidebar-role').textContent = title;
  }

  function saveProfile() { showToast('Profile saved! Claude will use this for personalization.'); }

  function syncSettings() {
    const name = document.getElementById('settings-name').value;
    document.getElementById('input-name').value = name;
    updateProfile();
  }

  function getInitials(name) {
    return name.split(' ').map(w => w[0]).join('').toUpperCase().slice(0,2);
  }

  // ── SEARCH ──
  function filterPeople() {
    const q = document.getElementById('people-search').value.toLowerCase();
    document.querySelectorAll('.person-card').forEach(card => {
      card.style.display = card.textContent.toLowerCase().includes(q) ? 'flex' : 'none';
    });
  }

  // ── NAVIGATION ──
  function switchScreen(name, el) {
    document.querySelectorAll('.screen, .agent-screen').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const screen = document.getElementById('screen-' + name);
    if (screen) screen.classList.add('active');
    if (el) el.classList.add('active');
    const titles = { agent:'Claude Agent', profile:'My Profile', search:'Find People', outreach:'Draft Outreach', settings:'Settings' };
    document.getElementById('page-title').textContent = titles[name] || name;
  }

  // ── SPOTLIGHT ──
  function openSpotlight() {
    document.getElementById('spotlight').classList.add('open');
    setTimeout(() => document.getElementById('spot-input').focus(), 50);
  }
  function closeSpotlight() { document.getElementById('spotlight').classList.remove('open'); }
  function closeSpotlightBg(e) { if (e.target === document.getElementById('spotlight')) closeSpotlight(); }
  function spotKeydown(e) {
    if (e.key === 'Escape') closeSpotlight();
    if (e.key === 'Enter') {
      const val = document.getElementById('spot-input').value.trim();
      if (val) spotAction(val);
    }
  }
  function spotAction(text) {
    closeSpotlight();
    document.getElementById('spot-input').value = '';
    switchScreen('agent', document.querySelector('[onclick*="\'agent\'"]'));
    setTimeout(() => {
      document.getElementById('chat-input').value = text;
      sendMessage();
    }, 100);
  }

  document.addEventListener('keydown', e => {
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') { e.preventDefault(); openSpotlight(); }
    if (e.key === 'Escape') closeSpotlight();
  });

  // ── TOAST ──
  function showToast(msg) {
    const t = document.getElementById('toast');
    document.getElementById('toast-msg').textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
  }
</script>
</body>
</html>
